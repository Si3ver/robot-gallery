(this["webpackJsonprobot-gallery"]=this["webpackJsonprobot-gallery"]||[]).push([[0],{23:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var c,a=n(1),r=n.n(a),s=n(12),i=n.n(s),o=(n(23),n(10)),j=n.n(o),p=n(13),b=n(3),l=n(0),u={username:"\u5a01\u5ec9\xb7\u6c64\u59c6\u68ee",shoppingCart:{items:[]}},d=r.a.createContext(u),O=r.a.createContext(void 0),h=function(e){var t=Object(a.useState)(u),n=Object(b.a)(t,2),c=n[0],r=n[1];return Object(l.jsx)(d.Provider,{value:c,children:Object(l.jsx)(O.Provider,{value:r,children:e.children})})},x=n(11),m=n(2),f=n(7),g=n.n(f),v=(c=function(e){var t=e.id,n=e.name,c=e.email,r=e.addToCart,s=Object(a.useContext)(d);return Object(l.jsxs)("div",{className:g.a.cardContainer,children:[Object(l.jsx)("img",{src:"https://robohash.org/".concat(t),alt:"robot"}),Object(l.jsx)("h2",{children:n}),Object(l.jsx)("p",{children:c}),Object(l.jsxs)("p",{children:["\u4f5c\u8005\uff1a",s.username]}),Object(l.jsx)("button",{onClick:function(){r(t,n)},children:"\u52a0\u5165\u8d2d\u7269\u8f66"})]})},function(e){var t=Object(a.useContext)(O);return Object(l.jsx)(c,Object(m.a)(Object(m.a)({},e),{},{addToCart:function(e,n){t&&t((function(t){return Object(m.a)(Object(m.a)({},t),{},{shoppingCart:{items:[].concat(Object(x.a)(t.shoppingCart.items),[{id:e,name:n}])}})}))}}))}),C=function(e){var t=e.id,n=e.name,c=e.email,r=Object(a.useContext)(d),s=function(){var e=Object(a.useContext)(O);return function(t,n){e&&e((function(e){return Object(m.a)(Object(m.a)({},e),{},{shoppingCart:{items:[].concat(Object(x.a)(e.shoppingCart.items),[{id:t,name:n}])}})}))}}();return Object(l.jsxs)("div",{className:g.a.cardContainer,children:[Object(l.jsx)("img",{src:"https://robohash.org/".concat(t),alt:"robot"}),Object(l.jsx)("h2",{children:"\u6253\u6298\u5546\u54c1"}),Object(l.jsx)("h2",{children:n}),Object(l.jsx)("p",{children:c}),Object(l.jsxs)("p",{children:["\u4f5c\u8005\uff1a",r.username]}),Object(l.jsx)("button",{onClick:function(){s(t,n)},children:"\u52a0\u5165\u8d2d\u7269\u8f66"})]})},_=n(14),k=n(15),N=n(18),S=n(16),y=n(17),A=n(8),D=n.n(A),L=function(e){Object(N.a)(n,e);var t=Object(S.a)(n);function n(e){var c;return Object(_.a)(this,n),(c=t.call(this,e)).handleClick=function(e){"SPAN"===e.target.nodeName&&c.setState({isOpen:!c.state.isOpen})},c.state={isOpen:!1},c}return Object(k.a)(n,[{key:"render",value:function(){var e=this;return Object(l.jsx)(d.Consumer,{children:function(t){var n=t.shoppingCart.items;return Object(l.jsxs)("div",{className:D.a.cartContainer,children:[Object(l.jsxs)("button",{className:D.a.button,onClick:e.handleClick,children:[Object(l.jsx)(y.a,{}),Object(l.jsxs)("span",{children:["\u8d2d\u7269\u8f66 ",n.length," (\u4ef6)"]})]}),Object(l.jsx)("div",{className:D.a.cartDropDown,style:{display:e.state.isOpen?"block":"none"},children:Object(l.jsx)("ul",{children:n.map((function(e){return Object(l.jsx)("li",{children:e.name},e.id)}))})})]})}})}}]),n}(a.Component),w=n.p+"static/media/logo.6ce24c58.svg",F=n(5),P=n.n(F),T=function(e){var t=Object(a.useState)([]),n=Object(b.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),i=Object(b.a)(s,2),o=i[0],u=i[1],d=Object(a.useState)(""),O=Object(b.a)(d,2),h=O[0],x=O[1];return Object(a.useEffect)((function(){(function(){var e=Object(p.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,fetch("https://jsonplaceholder.typicode.com/users");case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,r(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),x(e.t0.message);case 14:u(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(l.jsxs)("div",{className:P.a.app,children:[Object(l.jsxs)("div",{className:P.a.appHeader,children:[Object(l.jsx)("img",{className:P.a.appLogo,src:w,alt:"logo"}),Object(l.jsx)("h1",{children:"\u8001\u94c1\uff0c\u4e70\u4e2a\ud83e\udd16\ufe0f\u7ed9\u5c0f\u670b\u53cb\u73a9\u4e0d\uff1f"})]}),Object(l.jsx)(L,{}),""!==h&&Object(l.jsxs)("div",{children:["\u51fa\u9519\u4e86",h]}),o?Object(l.jsx)("div",{children:"loading..."}):Object(l.jsx)("div",{className:P.a.robotList,children:c.map((function(e){var t=e.id,n=e.name,c=e.email;return 1&t?Object(l.jsx)(v,{id:t,name:n,email:c},t):Object(l.jsx)(C,{id:t,name:n,email:c},t)}))})]})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(h,{children:Object(l.jsx)(T,{})})}),document.getElementById("root")),H()},5:function(e,t,n){e.exports={app:"App_app__1kX79",appHeader:"App_appHeader__28RXF",appLogo:"App_appLogo__1qg7-","App-logo-spin":"App_App-logo-spin__1e7sv",robotList:"App_robotList__zTHhD"}},7:function(e,t,n){e.exports={cardContainer:"Robot_cardContainer__19gp-"}},8:function(e,t,n){e.exports={cartContainer:"ShoppingCart_cartContainer__1Gl09",cartDropDown:"ShoppingCart_cartDropDown__23j9i",button:"ShoppingCart_button__3vzc4"}}},[[26,1,2]]]);
//# sourceMappingURL=main.82d17135.chunk.js.map